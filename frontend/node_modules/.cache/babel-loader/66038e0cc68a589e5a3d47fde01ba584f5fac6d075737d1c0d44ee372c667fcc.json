{"ast":null,"code":"import _objectSpread from\"C:/Users/yoga/Downloads/bakalauras-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{LayoutDashboard,BookOpen,FileText,HelpCircle,Users,Plus,Edit,Trash2,X,Save,ChevronRight,ChevronDown}from'lucide-react';import axios from'axios';import'./Admin.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Admin(){const{user}=useAuth();const[activeTab,setActiveTab]=useState('dashboard');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[message,setMessage]=useState('');// Dashboard stats\nconst[stats,setStats]=useState(null);// Modules\nconst[modules,setModules]=useState([]);const[selectedModule,setSelectedModule]=useState(null);const[showModuleForm,setShowModuleForm]=useState(false);const[moduleForm,setModuleForm]=useState({name:'',display_name:'',description:'',order_index:0});// Sections\nconst[sections,setSections]=useState([]);const[selectedSection,setSelectedSection]=useState(null);const[showSectionForm,setShowSectionForm]=useState(false);const[sectionForm,setSectionForm]=useState({module_id:'',name:'',display_name:'',description:'',order_index:0});// Questions\nconst[questions,setQuestions]=useState([]);const[showQuestionForm,setShowQuestionForm]=useState(false);const[questionForm,setQuestionForm]=useState({section_id:'',question_text:'',options:['',''],correct_answer:'',explanation:'',question_type:'multiple_choice'});// Learning Content\nconst[learningContent,setLearningContent]=useState([]);const[showContentForm,setShowContentForm]=useState(false);const[contentForm,setContentForm]=useState({section_id:'',screen_title:'',read_time_min:5,content_markdown:'',order_index:0});// Users\nconst[users,setUsers]=useState([]);useEffect(()=>{if(user!==null&&user!==void 0&&user.is_admin){fetchStats();fetchModules();fetchUsers();}},[user]);useEffect(()=>{if(selectedModule&&selectedModule.id){fetchSections(selectedModule.id);}else{setSections([]);}},[selectedModule]);useEffect(()=>{if(selectedSection){fetchQuestions(selectedSection.id);fetchLearningContent(selectedSection.id);}},[selectedSection]);const fetchStats=async()=>{try{const response=await axios.get('/api/admin/stats',{withCredentials:true});setStats(response.data);}catch(err){setError('Failed to load statistics');}};const fetchModules=async()=>{try{const response=await axios.get('/api/admin/modules',{withCredentials:true});setModules(response.data);}catch(err){setError('Failed to load modules');}};const fetchSections=async moduleId=>{if(!moduleId){console.error('No module ID provided to fetchSections');setError('Module ID is required to load sections');return;}// Ensure moduleId is a number\nconst id=typeof moduleId==='string'?parseInt(moduleId,10):moduleId;if(isNaN(id)){console.error('Invalid module ID:',moduleId);setError('Invalid module ID');return;}try{const response=await axios.get(\"/api/admin/modules/\".concat(id,\"/sections\"),{withCredentials:true});setSections(response.data||[]);setError('');// Clear any previous errors\n}catch(err){var _err$response,_err$response$data;console.error('Error fetching sections:',err);const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message||'Failed to load sections';setError(\"Failed to load sections: \".concat(errorMsg));}};const fetchQuestions=async sectionId=>{try{const response=await axios.get(\"/api/admin/sections/\".concat(sectionId,\"/questions\"),{withCredentials:true});setQuestions(response.data);}catch(err){setError('Failed to load questions');}};const fetchLearningContent=async sectionId=>{try{const response=await axios.get(\"/api/admin/sections/\".concat(sectionId,\"/learning-content\"),{withCredentials:true});setLearningContent(response.data);}catch(err){setError('Failed to load learning content');}};const fetchUsers=async()=>{try{const response=await axios.get('/api/admin/users',{withCredentials:true});setUsers(response.data);}catch(err){setError('Failed to load users');}};const handleModuleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setMessage('');try{if(selectedModule){await axios.put(\"/api/admin/modules/\".concat(selectedModule.id),moduleForm,{withCredentials:true});setMessage('Module updated successfully');}else{await axios.post('/api/admin/modules',moduleForm,{withCredentials:true});setMessage('Module created successfully');}fetchModules();setShowModuleForm(false);setSelectedModule(null);setModuleForm({name:'',display_name:'',description:'',order_index:0});}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Failed to save module');}finally{setLoading(false);}};const handleSectionSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setMessage('');try{const moduleId=sectionForm.module_id||(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id);if(!moduleId){setError('Module ID is required');setLoading(false);return;}if(selectedSection){await axios.put(\"/api/admin/sections/\".concat(selectedSection.id),sectionForm,{withCredentials:true});setMessage('Section updated successfully');}else{await axios.post('/api/admin/sections',sectionForm,{withCredentials:true});setMessage('Section created successfully');}// Use the moduleId from the form or selectedModule\n// Make sure we preserve the selectedModule so sections can be fetched\nconst currentModule=selectedModule||modules.find(m=>m.id===moduleId);if(currentModule){setSelectedModule(currentModule);}// Fetch sections with the module ID\nawait fetchSections(moduleId);// Also refresh modules to update section counts\nawait fetchModules();setShowSectionForm(false);setSelectedSection(null);// Don't clear module_id yet - keep it for potential retry\nsetSectionForm({module_id:moduleId,name:'',display_name:'',description:'',order_index:0});}catch(err){var _err$response3,_err$response3$data;console.error('Error saving section:',err);setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||'Failed to save section');}finally{setLoading(false);}};const handleQuestionSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setMessage('');try{const filteredOptions=questionForm.options.filter(opt=>opt.trim()!=='');if(filteredOptions.length<2){setError('At least 2 options are required');setLoading(false);return;}if(selectedQuestion){await axios.put(\"/api/admin/questions/\".concat(selectedQuestion.id),_objectSpread(_objectSpread({},questionForm),{},{options:filteredOptions}),{withCredentials:true});setMessage('Question updated successfully');}else{await axios.post('/api/admin/questions',_objectSpread(_objectSpread({},questionForm),{},{options:filteredOptions}),{withCredentials:true});setMessage('Question created successfully');}fetchQuestions(selectedSection.id);setShowQuestionForm(false);setSelectedQuestion(null);setQuestionForm({section_id:selectedSection.id,question_text:'',options:['',''],correct_answer:'',explanation:'',question_type:'multiple_choice'});}catch(err){var _err$response4,_err$response4$data;setError(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||'Failed to save question');}finally{setLoading(false);}};const handleContentSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setMessage('');try{if(selectedContent){await axios.put(\"/api/admin/learning-content/\".concat(selectedContent.id),contentForm,{withCredentials:true});setMessage('Learning content updated successfully');}else{await axios.post('/api/admin/learning-content',contentForm,{withCredentials:true});setMessage('Learning content created successfully');}fetchLearningContent(selectedSection.id);setShowContentForm(false);setSelectedContent(null);setContentForm({section_id:selectedSection.id,screen_title:'',read_time_min:5,content_markdown:'',order_index:0});}catch(err){var _err$response5,_err$response5$data;setError(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.error)||'Failed to save learning content');}finally{setLoading(false);}};const handleDeleteModule=async id=>{if(!window.confirm('Are you sure you want to delete this module? This will fail if it has sections.'))return;try{await axios.delete(\"/api/admin/modules/\".concat(id),{withCredentials:true});setMessage('Module deleted successfully');fetchModules();}catch(err){var _err$response6,_err$response6$data;setError(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.error)||'Failed to delete module');}};const handleDeleteSection=async id=>{if(!window.confirm('Are you sure you want to delete this section? This will fail if it has questions or content.'))return;try{await axios.delete(\"/api/admin/sections/\".concat(id),{withCredentials:true});setMessage('Section deleted successfully');fetchSections(selectedModule.id);}catch(err){var _err$response7,_err$response7$data;setError(((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.error)||'Failed to delete section');}};const handleDeleteQuestion=async id=>{if(!window.confirm('Are you sure you want to delete this question?'))return;try{await axios.delete(\"/api/admin/questions/\".concat(id),{withCredentials:true});setMessage('Question deleted successfully');fetchQuestions(selectedSection.id);}catch(err){var _err$response8,_err$response8$data;setError(((_err$response8=err.response)===null||_err$response8===void 0?void 0:(_err$response8$data=_err$response8.data)===null||_err$response8$data===void 0?void 0:_err$response8$data.error)||'Failed to delete question');}};const handleDeleteContent=async id=>{if(!window.confirm('Are you sure you want to delete this learning content?'))return;try{await axios.delete(\"/api/admin/learning-content/\".concat(id),{withCredentials:true});setMessage('Learning content deleted successfully');fetchLearningContent(selectedSection.id);}catch(err){var _err$response9,_err$response9$data;setError(((_err$response9=err.response)===null||_err$response9===void 0?void 0:(_err$response9$data=_err$response9.data)===null||_err$response9$data===void 0?void 0:_err$response9$data.error)||'Failed to delete learning content');}};const handleToggleAdmin=async(userId,isAdmin)=>{if(userId===user.id){setError('You cannot change your own admin status');return;}try{await axios.put(\"/api/admin/users/\".concat(userId),{is_admin:!isAdmin},{withCredentials:true});setMessage(\"User \".concat(!isAdmin?'promoted to':'removed from',\" admin successfully\"));fetchUsers();}catch(err){var _err$response0,_err$response0$data;setError(((_err$response0=err.response)===null||_err$response0===void 0?void 0:(_err$response0$data=_err$response0.data)===null||_err$response0$data===void 0?void 0:_err$response0$data.error)||'Failed to update user');}};const[selectedQuestion,setSelectedQuestion]=useState(null);const[selectedContent,setSelectedContent]=useState(null);const openModuleForm=function(){let module=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(module){setSelectedModule(module);setModuleForm({name:module.name,display_name:module.display_name,description:module.description||'',order_index:module.order_index});}else{setSelectedModule(null);setModuleForm({name:'',display_name:'',description:'',order_index:modules.length});}setShowModuleForm(true);};const openSectionForm=function(){let section=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let module=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const targetModule=module||selectedModule;if(!targetModule){setError('Please select a module first');return;}if(section){setSelectedSection(section);setSectionForm({module_id:targetModule.id,name:section.name,display_name:section.display_name,description:section.description||'',order_index:section.order_index});}else{setSelectedSection(null);setSectionForm({module_id:targetModule.id,name:'',display_name:'',description:'',order_index:sections.length});}setShowSectionForm(true);};const openQuestionForm=function(){let question=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(question){setSelectedQuestion(question);setQuestionForm({section_id:selectedSection.id,question_text:question.question_text,options:question.options||['',''],correct_answer:question.correct_answer,explanation:question.explanation,question_type:question.question_type||'multiple_choice'});}else{setSelectedQuestion(null);setQuestionForm({section_id:selectedSection.id,question_text:'',options:['',''],correct_answer:'',explanation:'',question_type:'multiple_choice'});}setShowQuestionForm(true);};const openContentForm=function(){let content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(content){setSelectedContent(content);setContentForm({section_id:selectedSection.id,screen_title:content.screen_title,read_time_min:content.read_time_min,content_markdown:content.content_markdown,order_index:content.order_index});}else{setSelectedContent(null);setContentForm({section_id:selectedSection.id,screen_title:'',read_time_min:5,content_markdown:'',order_index:learningContent.length});}setShowContentForm(true);};const addQuestionOption=()=>{setQuestionForm(_objectSpread(_objectSpread({},questionForm),{},{options:[...questionForm.options,'']}));};const removeQuestionOption=index=>{if(questionForm.options.length>2){setQuestionForm(_objectSpread(_objectSpread({},questionForm),{},{options:questionForm.options.filter((_,i)=>i!==index)}));}};const updateQuestionOption=(index,value)=>{const newOptions=[...questionForm.options];newOptions[index]=value;setQuestionForm(_objectSpread(_objectSpread({},questionForm),{},{options:newOptions}));};if(!(user!==null&&user!==void 0&&user.is_admin)){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-error\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You must be an administrator to access this page.\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Panel\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage courses, content, and users\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-message error\",onClick:()=>setError(''),children:[error,\" \",/*#__PURE__*/_jsx(X,{size:16})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-message success\",onClick:()=>setMessage(''),children:[message,\" \",/*#__PURE__*/_jsx(X,{size:16})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"admin-tab \".concat(activeTab==='dashboard'?'active':''),onClick:()=>setActiveTab('dashboard'),children:[/*#__PURE__*/_jsx(LayoutDashboard,{size:18}),\"Dashboard\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"admin-tab \".concat(activeTab==='modules'?'active':''),onClick:()=>setActiveTab('modules'),children:[/*#__PURE__*/_jsx(BookOpen,{size:18}),\"Modules\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"admin-tab \".concat(activeTab==='users'?'active':''),onClick:()=>setActiveTab('users'),children:[/*#__PURE__*/_jsx(Users,{size:18}),\"Users\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[activeTab==='dashboard'&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-dashboard\",children:stats?/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(Users,{size:24}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.total_users}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Users\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(BookOpen,{size:24}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.total_modules}),/*#__PURE__*/_jsx(\"p\",{children:\"Modules\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FileText,{size:24}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.total_sections}),/*#__PURE__*/_jsx(\"p\",{children:\"Sections\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(HelpCircle,{size:24}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.total_questions}),/*#__PURE__*/_jsx(\"p\",{children:\"Questions\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FileText,{size:24}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.total_content}),/*#__PURE__*/_jsx(\"p\",{children:\"Content Items\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(Users,{size:24}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.admin_count}),/*#__PURE__*/_jsx(\"p\",{children:\"Admins\"})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading statistics...\"})}),activeTab==='modules'&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-modules\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Modules\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>openModuleForm(),children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Module\"]})]}),showModuleForm&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-form-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedModule?'Edit Module':'Create Module'}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>{setShowModuleForm(false);setSelectedModule(null);},children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleModuleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name (unique identifier)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:moduleForm.name,onChange:e=>setModuleForm(_objectSpread(_objectSpread({},moduleForm),{},{name:e.target.value})),required:true,placeholder:\"module_name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Display Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:moduleForm.display_name,onChange:e=>setModuleForm(_objectSpread(_objectSpread({},moduleForm),{},{display_name:e.target.value})),required:true,placeholder:\"Module Display Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:moduleForm.description,onChange:e=>setModuleForm(_objectSpread(_objectSpread({},moduleForm),{},{description:e.target.value})),rows:\"3\",placeholder:\"Module description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Order Index\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:moduleForm.order_index,onChange:e=>setModuleForm(_objectSpread(_objectSpread({},moduleForm),{},{order_index:parseInt(e.target.value)})),required:true,min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowModuleForm(false);setSelectedModule(null);},children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:[/*#__PURE__*/_jsx(Save,{size:16}),loading?'Saving...':'Save']})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modules-list\",children:[modules.map(module=>/*#__PURE__*/_jsxs(\"div\",{className:\"module-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"module-item-header\",onClick:()=>{if((selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===module.id){setSelectedModule(null);setSections([]);}else{setSelectedModule(module);}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"module-item-info\",children:[(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===module.id?/*#__PURE__*/_jsx(ChevronDown,{size:20}):/*#__PURE__*/_jsx(ChevronRight,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:module.display_name}),/*#__PURE__*/_jsx(\"p\",{children:module.description||'No description'}),/*#__PURE__*/_jsxs(\"span\",{className:\"module-meta\",children:[module.section_count,\" sections \\u2022 \",module.question_count,\" questions\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-item-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:e=>{e.stopPropagation();openModuleForm(module);},children:/*#__PURE__*/_jsx(Edit,{size:16})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:e=>{e.stopPropagation();handleDeleteModule(module.id);},children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]}),(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===module.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"module-sections\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sections\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:e=>{e.stopPropagation();openSectionForm(null,module);},children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Section\"]})]}),showSectionForm&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-form-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedSection?'Edit Section':'Create Section'}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>{setShowSectionForm(false);setSelectedSection(null);},children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSectionSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name (unique identifier)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sectionForm.name,onChange:e=>setSectionForm(_objectSpread(_objectSpread({},sectionForm),{},{name:e.target.value})),required:true,placeholder:\"section_name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Display Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sectionForm.display_name,onChange:e=>setSectionForm(_objectSpread(_objectSpread({},sectionForm),{},{display_name:e.target.value})),required:true,placeholder:\"Section Display Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:sectionForm.description,onChange:e=>setSectionForm(_objectSpread(_objectSpread({},sectionForm),{},{description:e.target.value})),rows:\"3\",placeholder:\"Section description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Order Index\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:sectionForm.order_index,onChange:e=>setSectionForm(_objectSpread(_objectSpread({},sectionForm),{},{order_index:parseInt(e.target.value)})),required:true,min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowSectionForm(false);setSelectedSection(null);},children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:[/*#__PURE__*/_jsx(Save,{size:16}),loading?'Saving...':'Save']})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sections-list\",children:[sections.map(section=>/*#__PURE__*/_jsxs(\"div\",{className:\"section-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-item-header\",onClick:()=>{if((selectedSection===null||selectedSection===void 0?void 0:selectedSection.id)===section.id){setSelectedSection(null);setQuestions([]);setLearningContent([]);}else{setSelectedSection(section);}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-item-info\",children:[(selectedSection===null||selectedSection===void 0?void 0:selectedSection.id)===section.id?/*#__PURE__*/_jsx(ChevronDown,{size:18}):/*#__PURE__*/_jsx(ChevronRight,{size:18}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:section.display_name}),/*#__PURE__*/_jsxs(\"span\",{className:\"section-meta\",children:[section.question_count,\" questions \\u2022 \",section.content_count,\" content items\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-item-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:e=>{e.stopPropagation();openSectionForm(section,module);},children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:e=>{e.stopPropagation();handleDeleteSection(section.id);},children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]}),(selectedSection===null||selectedSection===void 0?void 0:selectedSection.id)===section.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Questions\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary small\",onClick:()=>openQuestionForm(),children:[/*#__PURE__*/_jsx(Plus,{size:14}),\"Add Question\"]})]}),showQuestionForm&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-form-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedQuestion?'Edit Question':'Create Question'}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>{setShowQuestionForm(false);setSelectedQuestion(null);},children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleQuestionSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Question Text\"}),/*#__PURE__*/_jsx(\"textarea\",{value:questionForm.question_text,onChange:e=>setQuestionForm(_objectSpread(_objectSpread({},questionForm),{},{question_text:e.target.value})),required:true,rows:\"3\",placeholder:\"Enter the question\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Options\"}),questionForm.options.map((option,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"option-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:option,onChange:e=>updateQuestionOption(index,e.target.value),placeholder:\"Option \".concat(index+1),required:index<2}),questionForm.options.length>2&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-icon danger\",onClick:()=>removeQuestionOption(index),children:/*#__PURE__*/_jsx(X,{size:14})})]},index)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-secondary small\",onClick:addQuestionOption,children:[/*#__PURE__*/_jsx(Plus,{size:14}),\"Add Option\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Correct Answer\"}),/*#__PURE__*/_jsxs(\"select\",{value:questionForm.correct_answer,onChange:e=>setQuestionForm(_objectSpread(_objectSpread({},questionForm),{},{correct_answer:e.target.value})),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select correct answer\"}),questionForm.options.filter(opt=>opt.trim()!=='').map((opt,idx)=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},idx))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Explanation\"}),/*#__PURE__*/_jsx(\"textarea\",{value:questionForm.explanation,onChange:e=>setQuestionForm(_objectSpread(_objectSpread({},questionForm),{},{explanation:e.target.value})),required:true,rows:\"3\",placeholder:\"Explain why this is the correct answer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowQuestionForm(false);setSelectedQuestion(null);},children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:[/*#__PURE__*/_jsx(Save,{size:16}),loading?'Saving...':'Save']})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"questions-list\",children:[questions.map(question=>/*#__PURE__*/_jsxs(\"div\",{className:\"question-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question-text\",children:question.question_text}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>openQuestionForm(question),children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:()=>handleDeleteQuestion(question.id),children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},question.id)),questions.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"empty-state\",children:\"No questions yet. Add one to get started.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Learning Content\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary small\",onClick:()=>openContentForm(),children:[/*#__PURE__*/_jsx(Plus,{size:14}),\"Add Content\"]})]}),showContentForm&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-form-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedContent?'Edit Learning Content':'Create Learning Content'}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>{setShowContentForm(false);setSelectedContent(null);},children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleContentSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Screen Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:contentForm.screen_title,onChange:e=>setContentForm(_objectSpread(_objectSpread({},contentForm),{},{screen_title:e.target.value})),required:true,placeholder:\"Content screen title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Read Time (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:contentForm.read_time_min,onChange:e=>setContentForm(_objectSpread(_objectSpread({},contentForm),{},{read_time_min:parseInt(e.target.value)})),required:true,min:\"1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Content (Markdown)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:contentForm.content_markdown,onChange:e=>setContentForm(_objectSpread(_objectSpread({},contentForm),{},{content_markdown:e.target.value})),required:true,rows:\"10\",placeholder:\"Enter markdown content\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Order Index\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:contentForm.order_index,onChange:e=>setContentForm(_objectSpread(_objectSpread({},contentForm),{},{order_index:parseInt(e.target.value)})),required:true,min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowContentForm(false);setSelectedContent(null);},children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:[/*#__PURE__*/_jsx(Save,{size:16}),loading?'Saving...':'Save']})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-list\",children:[learningContent.map(content=>/*#__PURE__*/_jsxs(\"div\",{className:\"content-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-info\",children:[/*#__PURE__*/_jsx(\"h5\",{children:content.screen_title}),/*#__PURE__*/_jsxs(\"span\",{className:\"content-meta\",children:[content.read_time_min,\" min read \\u2022 Order: \",content.order_index]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>openContentForm(content),children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:()=>handleDeleteContent(content.id),children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},content.id)),learningContent.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"empty-state\",children:\"No learning content yet. Add one to get started.\"})]})]})]})]},section.id)),sections.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"empty-state\",children:\"No sections yet. Add one to get started.\"})]})]})]},module.id)),modules.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"empty-state\",children:\"No modules yet. Create one to get started.\"})]})]}),activeTab==='users'&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-users\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-section-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"User Management\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"users-table\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Display Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"XP\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Admin\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(u=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:u.email}),/*#__PURE__*/_jsx(\"td\",{children:u.display_name}),/*#__PURE__*/_jsx(\"td\",{children:u.level||1}),/*#__PURE__*/_jsx(\"td\",{children:u.total_xp||0}),/*#__PURE__*/_jsx(\"td\",{children:u.is_admin?'Yes':'No'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn \".concat(u.is_admin?'btn-secondary':'btn-primary',\" small\"),onClick:()=>handleToggleAdmin(u.id,u.is_admin),disabled:u.id===user.id,children:u.is_admin?'Remove Admin':'Make Admin'})})]},u.id))})]}),users.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"empty-state\",children:\"No users found.\"})]})]})]})]});}export default Admin;","map":{"version":3,"names":["React","useState","useEffect","useAuth","LayoutDashboard","BookOpen","FileText","HelpCircle","Users","Plus","Edit","Trash2","X","Save","ChevronRight","ChevronDown","axios","jsx","_jsx","jsxs","_jsxs","Admin","user","activeTab","setActiveTab","loading","setLoading","error","setError","message","setMessage","stats","setStats","modules","setModules","selectedModule","setSelectedModule","showModuleForm","setShowModuleForm","moduleForm","setModuleForm","name","display_name","description","order_index","sections","setSections","selectedSection","setSelectedSection","showSectionForm","setShowSectionForm","sectionForm","setSectionForm","module_id","questions","setQuestions","showQuestionForm","setShowQuestionForm","questionForm","setQuestionForm","section_id","question_text","options","correct_answer","explanation","question_type","learningContent","setLearningContent","showContentForm","setShowContentForm","contentForm","setContentForm","screen_title","read_time_min","content_markdown","users","setUsers","is_admin","fetchStats","fetchModules","fetchUsers","id","fetchSections","fetchQuestions","fetchLearningContent","response","get","withCredentials","data","err","moduleId","console","parseInt","isNaN","concat","_err$response","_err$response$data","errorMsg","sectionId","handleModuleSubmit","e","preventDefault","put","post","_err$response2","_err$response2$data","handleSectionSubmit","currentModule","find","m","_err$response3","_err$response3$data","handleQuestionSubmit","filteredOptions","filter","opt","trim","length","selectedQuestion","_objectSpread","setSelectedQuestion","_err$response4","_err$response4$data","handleContentSubmit","selectedContent","setSelectedContent","_err$response5","_err$response5$data","handleDeleteModule","window","confirm","delete","_err$response6","_err$response6$data","handleDeleteSection","_err$response7","_err$response7$data","handleDeleteQuestion","_err$response8","_err$response8$data","handleDeleteContent","_err$response9","_err$response9$data","handleToggleAdmin","userId","isAdmin","_err$response0","_err$response0$data","openModuleForm","module","arguments","undefined","openSectionForm","section","targetModule","openQuestionForm","question","openContentForm","content","addQuestionOption","removeQuestionOption","index","_","i","updateQuestionOption","value","newOptions","className","children","onClick","size","total_users","total_modules","total_sections","total_questions","total_content","admin_count","onSubmit","type","onChange","target","required","placeholder","rows","min","disabled","map","section_count","question_count","stopPropagation","content_count","option","idx","u","email","level","total_xp"],"sources":["C:/Users/yoga/Downloads/bakalauras-main/frontend/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { \n  LayoutDashboard, \n  BookOpen, \n  FileText, \n  HelpCircle, \n  Users, \n  Plus, \n  Edit, \n  Trash2,\n  X,\n  Save,\n  ChevronRight,\n  ChevronDown\n} from 'lucide-react';\nimport axios from 'axios';\nimport './Admin.css';\n\nfunction Admin() {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n\n  // Dashboard stats\n  const [stats, setStats] = useState(null);\n\n  // Modules\n  const [modules, setModules] = useState([]);\n  const [selectedModule, setSelectedModule] = useState(null);\n  const [showModuleForm, setShowModuleForm] = useState(false);\n  const [moduleForm, setModuleForm] = useState({ name: '', display_name: '', description: '', order_index: 0 });\n\n  // Sections\n  const [sections, setSections] = useState([]);\n  const [selectedSection, setSelectedSection] = useState(null);\n  const [showSectionForm, setShowSectionForm] = useState(false);\n  const [sectionForm, setSectionForm] = useState({ module_id: '', name: '', display_name: '', description: '', order_index: 0 });\n\n  // Questions\n  const [questions, setQuestions] = useState([]);\n  const [showQuestionForm, setShowQuestionForm] = useState(false);\n  const [questionForm, setQuestionForm] = useState({\n    section_id: '',\n    question_text: '',\n    options: ['', ''],\n    correct_answer: '',\n    explanation: '',\n    question_type: 'multiple_choice'\n  });\n\n  // Learning Content\n  const [learningContent, setLearningContent] = useState([]);\n  const [showContentForm, setShowContentForm] = useState(false);\n  const [contentForm, setContentForm] = useState({\n    section_id: '',\n    screen_title: '',\n    read_time_min: 5,\n    content_markdown: '',\n    order_index: 0\n  });\n\n  // Users\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    if (user?.is_admin) {\n      fetchStats();\n      fetchModules();\n      fetchUsers();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (selectedModule && selectedModule.id) {\n      fetchSections(selectedModule.id);\n    } else {\n      setSections([]);\n    }\n  }, [selectedModule]);\n\n  useEffect(() => {\n    if (selectedSection) {\n      fetchQuestions(selectedSection.id);\n      fetchLearningContent(selectedSection.id);\n    }\n  }, [selectedSection]);\n\n  const fetchStats = async () => {\n    try {\n      const response = await axios.get('/api/admin/stats', { withCredentials: true });\n      setStats(response.data);\n    } catch (err) {\n      setError('Failed to load statistics');\n    }\n  };\n\n  const fetchModules = async () => {\n    try {\n      const response = await axios.get('/api/admin/modules', { withCredentials: true });\n      setModules(response.data);\n    } catch (err) {\n      setError('Failed to load modules');\n    }\n  };\n\n  const fetchSections = async (moduleId) => {\n    if (!moduleId) {\n      console.error('No module ID provided to fetchSections');\n      setError('Module ID is required to load sections');\n      return;\n    }\n    \n    // Ensure moduleId is a number\n    const id = typeof moduleId === 'string' ? parseInt(moduleId, 10) : moduleId;\n    if (isNaN(id)) {\n      console.error('Invalid module ID:', moduleId);\n      setError('Invalid module ID');\n      return;\n    }\n    \n    try {\n      const response = await axios.get(`/api/admin/modules/${id}/sections`, { withCredentials: true });\n      setSections(response.data || []);\n      setError(''); // Clear any previous errors\n    } catch (err) {\n      console.error('Error fetching sections:', err);\n      const errorMsg = err.response?.data?.error || err.message || 'Failed to load sections';\n      setError(`Failed to load sections: ${errorMsg}`);\n    }\n  };\n\n  const fetchQuestions = async (sectionId) => {\n    try {\n      const response = await axios.get(`/api/admin/sections/${sectionId}/questions`, { withCredentials: true });\n      setQuestions(response.data);\n    } catch (err) {\n      setError('Failed to load questions');\n    }\n  };\n\n  const fetchLearningContent = async (sectionId) => {\n    try {\n      const response = await axios.get(`/api/admin/sections/${sectionId}/learning-content`, { withCredentials: true });\n      setLearningContent(response.data);\n    } catch (err) {\n      setError('Failed to load learning content');\n    }\n  };\n\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('/api/admin/users', { withCredentials: true });\n      setUsers(response.data);\n    } catch (err) {\n      setError('Failed to load users');\n    }\n  };\n\n  const handleModuleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setMessage('');\n\n    try {\n      if (selectedModule) {\n        await axios.put(`/api/admin/modules/${selectedModule.id}`, moduleForm, { withCredentials: true });\n        setMessage('Module updated successfully');\n      } else {\n        await axios.post('/api/admin/modules', moduleForm, { withCredentials: true });\n        setMessage('Module created successfully');\n      }\n      fetchModules();\n      setShowModuleForm(false);\n      setSelectedModule(null);\n      setModuleForm({ name: '', display_name: '', description: '', order_index: 0 });\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to save module');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSectionSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setMessage('');\n\n    try {\n      const moduleId = sectionForm.module_id || selectedModule?.id;\n      if (!moduleId) {\n        setError('Module ID is required');\n        setLoading(false);\n        return;\n      }\n\n      if (selectedSection) {\n        await axios.put(`/api/admin/sections/${selectedSection.id}`, sectionForm, { withCredentials: true });\n        setMessage('Section updated successfully');\n      } else {\n        await axios.post('/api/admin/sections', sectionForm, { withCredentials: true });\n        setMessage('Section created successfully');\n      }\n      \n      // Use the moduleId from the form or selectedModule\n      // Make sure we preserve the selectedModule so sections can be fetched\n      const currentModule = selectedModule || modules.find(m => m.id === moduleId);\n      if (currentModule) {\n        setSelectedModule(currentModule);\n      }\n      \n      // Fetch sections with the module ID\n      await fetchSections(moduleId);\n      // Also refresh modules to update section counts\n      await fetchModules();\n      \n      setShowSectionForm(false);\n      setSelectedSection(null);\n      // Don't clear module_id yet - keep it for potential retry\n      setSectionForm({ module_id: moduleId, name: '', display_name: '', description: '', order_index: 0 });\n    } catch (err) {\n      console.error('Error saving section:', err);\n      setError(err.response?.data?.error || 'Failed to save section');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleQuestionSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setMessage('');\n\n    try {\n      const filteredOptions = questionForm.options.filter(opt => opt.trim() !== '');\n      if (filteredOptions.length < 2) {\n        setError('At least 2 options are required');\n        setLoading(false);\n        return;\n      }\n\n      if (selectedQuestion) {\n        await axios.put(`/api/admin/questions/${selectedQuestion.id}`, {\n          ...questionForm,\n          options: filteredOptions\n        }, { withCredentials: true });\n        setMessage('Question updated successfully');\n      } else {\n        await axios.post('/api/admin/questions', {\n          ...questionForm,\n          options: filteredOptions\n        }, { withCredentials: true });\n        setMessage('Question created successfully');\n      }\n      fetchQuestions(selectedSection.id);\n      setShowQuestionForm(false);\n      setSelectedQuestion(null);\n      setQuestionForm({\n        section_id: selectedSection.id,\n        question_text: '',\n        options: ['', ''],\n        correct_answer: '',\n        explanation: '',\n        question_type: 'multiple_choice'\n      });\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to save question');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleContentSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setMessage('');\n\n    try {\n      if (selectedContent) {\n        await axios.put(`/api/admin/learning-content/${selectedContent.id}`, contentForm, { withCredentials: true });\n        setMessage('Learning content updated successfully');\n      } else {\n        await axios.post('/api/admin/learning-content', contentForm, { withCredentials: true });\n        setMessage('Learning content created successfully');\n      }\n      fetchLearningContent(selectedSection.id);\n      setShowContentForm(false);\n      setSelectedContent(null);\n      setContentForm({\n        section_id: selectedSection.id,\n        screen_title: '',\n        read_time_min: 5,\n        content_markdown: '',\n        order_index: 0\n      });\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to save learning content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteModule = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this module? This will fail if it has sections.')) return;\n    \n    try {\n      await axios.delete(`/api/admin/modules/${id}`, { withCredentials: true });\n      setMessage('Module deleted successfully');\n      fetchModules();\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to delete module');\n    }\n  };\n\n  const handleDeleteSection = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this section? This will fail if it has questions or content.')) return;\n    \n    try {\n      await axios.delete(`/api/admin/sections/${id}`, { withCredentials: true });\n      setMessage('Section deleted successfully');\n      fetchSections(selectedModule.id);\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to delete section');\n    }\n  };\n\n  const handleDeleteQuestion = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this question?')) return;\n    \n    try {\n      await axios.delete(`/api/admin/questions/${id}`, { withCredentials: true });\n      setMessage('Question deleted successfully');\n      fetchQuestions(selectedSection.id);\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to delete question');\n    }\n  };\n\n  const handleDeleteContent = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this learning content?')) return;\n    \n    try {\n      await axios.delete(`/api/admin/learning-content/${id}`, { withCredentials: true });\n      setMessage('Learning content deleted successfully');\n      fetchLearningContent(selectedSection.id);\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to delete learning content');\n    }\n  };\n\n  const handleToggleAdmin = async (userId, isAdmin) => {\n    if (userId === user.id) {\n      setError('You cannot change your own admin status');\n      return;\n    }\n\n    try {\n      await axios.put(`/api/admin/users/${userId}`, { is_admin: !isAdmin }, { withCredentials: true });\n      setMessage(`User ${!isAdmin ? 'promoted to' : 'removed from'} admin successfully`);\n      fetchUsers();\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to update user');\n    }\n  };\n\n  const [selectedQuestion, setSelectedQuestion] = useState(null);\n  const [selectedContent, setSelectedContent] = useState(null);\n\n  const openModuleForm = (module = null) => {\n    if (module) {\n      setSelectedModule(module);\n      setModuleForm({\n        name: module.name,\n        display_name: module.display_name,\n        description: module.description || '',\n        order_index: module.order_index\n      });\n    } else {\n      setSelectedModule(null);\n      setModuleForm({ name: '', display_name: '', description: '', order_index: modules.length });\n    }\n    setShowModuleForm(true);\n  };\n\n  const openSectionForm = (section = null, module = null) => {\n    const targetModule = module || selectedModule;\n    if (!targetModule) {\n      setError('Please select a module first');\n      return;\n    }\n    \n    if (section) {\n      setSelectedSection(section);\n      setSectionForm({\n        module_id: targetModule.id,\n        name: section.name,\n        display_name: section.display_name,\n        description: section.description || '',\n        order_index: section.order_index\n      });\n    } else {\n      setSelectedSection(null);\n      setSectionForm({\n        module_id: targetModule.id,\n        name: '',\n        display_name: '',\n        description: '',\n        order_index: sections.length\n      });\n    }\n    setShowSectionForm(true);\n  };\n\n  const openQuestionForm = (question = null) => {\n    if (question) {\n      setSelectedQuestion(question);\n      setQuestionForm({\n        section_id: selectedSection.id,\n        question_text: question.question_text,\n        options: question.options || ['', ''],\n        correct_answer: question.correct_answer,\n        explanation: question.explanation,\n        question_type: question.question_type || 'multiple_choice'\n      });\n    } else {\n      setSelectedQuestion(null);\n      setQuestionForm({\n        section_id: selectedSection.id,\n        question_text: '',\n        options: ['', ''],\n        correct_answer: '',\n        explanation: '',\n        question_type: 'multiple_choice'\n      });\n    }\n    setShowQuestionForm(true);\n  };\n\n  const openContentForm = (content = null) => {\n    if (content) {\n      setSelectedContent(content);\n      setContentForm({\n        section_id: selectedSection.id,\n        screen_title: content.screen_title,\n        read_time_min: content.read_time_min,\n        content_markdown: content.content_markdown,\n        order_index: content.order_index\n      });\n    } else {\n      setSelectedContent(null);\n      setContentForm({\n        section_id: selectedSection.id,\n        screen_title: '',\n        read_time_min: 5,\n        content_markdown: '',\n        order_index: learningContent.length\n      });\n    }\n    setShowContentForm(true);\n  };\n\n  const addQuestionOption = () => {\n    setQuestionForm({\n      ...questionForm,\n      options: [...questionForm.options, '']\n    });\n  };\n\n  const removeQuestionOption = (index) => {\n    if (questionForm.options.length > 2) {\n      setQuestionForm({\n        ...questionForm,\n        options: questionForm.options.filter((_, i) => i !== index)\n      });\n    }\n  };\n\n  const updateQuestionOption = (index, value) => {\n    const newOptions = [...questionForm.options];\n    newOptions[index] = value;\n    setQuestionForm({ ...questionForm, options: newOptions });\n  };\n\n  if (!user?.is_admin) {\n    return (\n      <div className=\"admin-container\">\n        <div className=\"admin-error\">\n          <h2>Access Denied</h2>\n          <p>You must be an administrator to access this page.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-container\">\n      <div className=\"admin-header\">\n        <h1>Admin Panel</h1>\n        <p>Manage courses, content, and users</p>\n      </div>\n\n      {error && (\n        <div className=\"admin-message error\" onClick={() => setError('')}>\n          {error} <X size={16} />\n        </div>\n      )}\n\n      {message && (\n        <div className=\"admin-message success\" onClick={() => setMessage('')}>\n          {message} <X size={16} />\n        </div>\n      )}\n\n      <div className=\"admin-tabs\">\n        <button\n          className={`admin-tab ${activeTab === 'dashboard' ? 'active' : ''}`}\n          onClick={() => setActiveTab('dashboard')}\n        >\n          <LayoutDashboard size={18} />\n          Dashboard\n        </button>\n        <button\n          className={`admin-tab ${activeTab === 'modules' ? 'active' : ''}`}\n          onClick={() => setActiveTab('modules')}\n        >\n          <BookOpen size={18} />\n          Modules\n        </button>\n        <button\n          className={`admin-tab ${activeTab === 'users' ? 'active' : ''}`}\n          onClick={() => setActiveTab('users')}\n        >\n          <Users size={18} />\n          Users\n        </button>\n      </div>\n\n      <div className=\"admin-content\">\n        {activeTab === 'dashboard' && (\n          <div className=\"admin-dashboard\">\n            {stats ? (\n              <div className=\"stats-grid\">\n                <div className=\"stat-card\">\n                  <Users size={24} />\n                  <div className=\"stat-info\">\n                    <h3>{stats.total_users}</h3>\n                    <p>Total Users</p>\n                  </div>\n                </div>\n                <div className=\"stat-card\">\n                  <BookOpen size={24} />\n                  <div className=\"stat-info\">\n                    <h3>{stats.total_modules}</h3>\n                    <p>Modules</p>\n                  </div>\n                </div>\n                <div className=\"stat-card\">\n                  <FileText size={24} />\n                  <div className=\"stat-info\">\n                    <h3>{stats.total_sections}</h3>\n                    <p>Sections</p>\n                  </div>\n                </div>\n                <div className=\"stat-card\">\n                  <HelpCircle size={24} />\n                  <div className=\"stat-info\">\n                    <h3>{stats.total_questions}</h3>\n                    <p>Questions</p>\n                  </div>\n                </div>\n                <div className=\"stat-card\">\n                  <FileText size={24} />\n                  <div className=\"stat-info\">\n                    <h3>{stats.total_content}</h3>\n                    <p>Content Items</p>\n                  </div>\n                </div>\n                <div className=\"stat-card\">\n                  <Users size={24} />\n                  <div className=\"stat-info\">\n                    <h3>{stats.admin_count}</h3>\n                    <p>Admins</p>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"loading\">Loading statistics...</div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'modules' && (\n          <div className=\"admin-modules\">\n            <div className=\"admin-section-header\">\n              <h2>Modules</h2>\n              <button className=\"btn btn-primary\" onClick={() => openModuleForm()}>\n                <Plus size={16} />\n                Add Module\n              </button>\n            </div>\n\n            {showModuleForm && (\n              <div className=\"admin-form-modal\">\n                <div className=\"admin-form\">\n                  <div className=\"form-header\">\n                    <h3>{selectedModule ? 'Edit Module' : 'Create Module'}</h3>\n                    <button className=\"close-btn\" onClick={() => {\n                      setShowModuleForm(false);\n                      setSelectedModule(null);\n                    }}>\n                      <X size={20} />\n                    </button>\n                  </div>\n                  <form onSubmit={handleModuleSubmit}>\n                    <div className=\"form-group\">\n                      <label>Name (unique identifier)</label>\n                      <input\n                        type=\"text\"\n                        value={moduleForm.name}\n                        onChange={(e) => setModuleForm({ ...moduleForm, name: e.target.value })}\n                        required\n                        placeholder=\"module_name\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label>Display Name</label>\n                      <input\n                        type=\"text\"\n                        value={moduleForm.display_name}\n                        onChange={(e) => setModuleForm({ ...moduleForm, display_name: e.target.value })}\n                        required\n                        placeholder=\"Module Display Name\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label>Description</label>\n                      <textarea\n                        value={moduleForm.description}\n                        onChange={(e) => setModuleForm({ ...moduleForm, description: e.target.value })}\n                        rows=\"3\"\n                        placeholder=\"Module description\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label>Order Index</label>\n                      <input\n                        type=\"number\"\n                        value={moduleForm.order_index}\n                        onChange={(e) => setModuleForm({ ...moduleForm, order_index: parseInt(e.target.value) })}\n                        required\n                        min=\"0\"\n                      />\n                    </div>\n                    <div className=\"form-actions\">\n                      <button type=\"button\" className=\"btn btn-secondary\" onClick={() => {\n                        setShowModuleForm(false);\n                        setSelectedModule(null);\n                      }}>\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n                        <Save size={16} />\n                        {loading ? 'Saving...' : 'Save'}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            )}\n\n            <div className=\"modules-list\">\n              {modules.map((module) => (\n                <div key={module.id} className=\"module-item\">\n                  <div className=\"module-item-header\" onClick={() => {\n                    if (selectedModule?.id === module.id) {\n                      setSelectedModule(null);\n                      setSections([]);\n                    } else {\n                      setSelectedModule(module);\n                    }\n                  }}>\n                    <div className=\"module-item-info\">\n                      {selectedModule?.id === module.id ? <ChevronDown size={20} /> : <ChevronRight size={20} />}\n                      <div>\n                        <h3>{module.display_name}</h3>\n                        <p>{module.description || 'No description'}</p>\n                        <span className=\"module-meta\">{module.section_count} sections  {module.question_count} questions</span>\n                      </div>\n                    </div>\n                    <div className=\"module-item-actions\">\n                      <button className=\"btn-icon\" onClick={(e) => {\n                        e.stopPropagation();\n                        openModuleForm(module);\n                      }}>\n                        <Edit size={16} />\n                      </button>\n                      <button className=\"btn-icon danger\" onClick={(e) => {\n                        e.stopPropagation();\n                        handleDeleteModule(module.id);\n                      }}>\n                        <Trash2 size={16} />\n                      </button>\n                    </div>\n                  </div>\n\n                  {selectedModule?.id === module.id && (\n                    <div className=\"module-sections\">\n                      <div className=\"admin-section-header\">\n                        <h3>Sections</h3>\n                        <button className=\"btn btn-primary\" onClick={(e) => {\n                          e.stopPropagation();\n                          openSectionForm(null, module);\n                        }}>\n                          <Plus size={16} />\n                          Add Section\n                        </button>\n                      </div>\n\n                      {showSectionForm && (\n                        <div className=\"admin-form-modal\">\n                          <div className=\"admin-form\">\n                            <div className=\"form-header\">\n                              <h3>{selectedSection ? 'Edit Section' : 'Create Section'}</h3>\n                              <button className=\"close-btn\" onClick={() => {\n                                setShowSectionForm(false);\n                                setSelectedSection(null);\n                              }}>\n                                <X size={20} />\n                              </button>\n                            </div>\n                            <form onSubmit={handleSectionSubmit}>\n                              <div className=\"form-group\">\n                                <label>Name (unique identifier)</label>\n                                <input\n                                  type=\"text\"\n                                  value={sectionForm.name}\n                                  onChange={(e) => setSectionForm({ ...sectionForm, name: e.target.value })}\n                                  required\n                                  placeholder=\"section_name\"\n                                />\n                              </div>\n                              <div className=\"form-group\">\n                                <label>Display Name</label>\n                                <input\n                                  type=\"text\"\n                                  value={sectionForm.display_name}\n                                  onChange={(e) => setSectionForm({ ...sectionForm, display_name: e.target.value })}\n                                  required\n                                  placeholder=\"Section Display Name\"\n                                />\n                              </div>\n                              <div className=\"form-group\">\n                                <label>Description</label>\n                                <textarea\n                                  value={sectionForm.description}\n                                  onChange={(e) => setSectionForm({ ...sectionForm, description: e.target.value })}\n                                  rows=\"3\"\n                                  placeholder=\"Section description\"\n                                />\n                              </div>\n                              <div className=\"form-group\">\n                                <label>Order Index</label>\n                                <input\n                                  type=\"number\"\n                                  value={sectionForm.order_index}\n                                  onChange={(e) => setSectionForm({ ...sectionForm, order_index: parseInt(e.target.value) })}\n                                  required\n                                  min=\"0\"\n                                />\n                              </div>\n                              <div className=\"form-actions\">\n                                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => {\n                                  setShowSectionForm(false);\n                                  setSelectedSection(null);\n                                }}>\n                                  Cancel\n                                </button>\n                                <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n                                  <Save size={16} />\n                                  {loading ? 'Saving...' : 'Save'}\n                                </button>\n                              </div>\n                            </form>\n                          </div>\n                        </div>\n                      )}\n\n                      <div className=\"sections-list\">\n                        {sections.map((section) => (\n                          <div key={section.id} className=\"section-item\">\n                            <div className=\"section-item-header\" onClick={() => {\n                              if (selectedSection?.id === section.id) {\n                                setSelectedSection(null);\n                                setQuestions([]);\n                                setLearningContent([]);\n                              } else {\n                                setSelectedSection(section);\n                              }\n                            }}>\n                              <div className=\"section-item-info\">\n                                {selectedSection?.id === section.id ? <ChevronDown size={18} /> : <ChevronRight size={18} />}\n                                <div>\n                                  <h4>{section.display_name}</h4>\n                                  <span className=\"section-meta\">{section.question_count} questions  {section.content_count} content items</span>\n                                </div>\n                              </div>\n                              <div className=\"section-item-actions\">\n                                <button className=\"btn-icon\" onClick={(e) => {\n                                  e.stopPropagation();\n                                  openSectionForm(section, module);\n                                }}>\n                                  <Edit size={14} />\n                                </button>\n                                <button className=\"btn-icon danger\" onClick={(e) => {\n                                  e.stopPropagation();\n                                  handleDeleteSection(section.id);\n                                }}>\n                                  <Trash2 size={14} />\n                                </button>\n                              </div>\n                            </div>\n\n                            {selectedSection?.id === section.id && (\n                              <div className=\"section-details\">\n                                <div className=\"detail-section\">\n                                  <div className=\"detail-header\">\n                                    <h4>Questions</h4>\n                                    <button className=\"btn btn-primary small\" onClick={() => openQuestionForm()}>\n                                      <Plus size={14} />\n                                      Add Question\n                                    </button>\n                                  </div>\n\n                                  {showQuestionForm && (\n                                    <div className=\"admin-form-modal\">\n                                      <div className=\"admin-form\">\n                                        <div className=\"form-header\">\n                                          <h3>{selectedQuestion ? 'Edit Question' : 'Create Question'}</h3>\n                                          <button className=\"close-btn\" onClick={() => {\n                                            setShowQuestionForm(false);\n                                            setSelectedQuestion(null);\n                                          }}>\n                                            <X size={20} />\n                                          </button>\n                                        </div>\n                                        <form onSubmit={handleQuestionSubmit}>\n                                          <div className=\"form-group\">\n                                            <label>Question Text</label>\n                                            <textarea\n                                              value={questionForm.question_text}\n                                              onChange={(e) => setQuestionForm({ ...questionForm, question_text: e.target.value })}\n                                              required\n                                              rows=\"3\"\n                                              placeholder=\"Enter the question\"\n                                            />\n                                          </div>\n                                          <div className=\"form-group\">\n                                            <label>Options</label>\n                                            {questionForm.options.map((option, index) => (\n                                              <div key={index} className=\"option-input\">\n                                                <input\n                                                  type=\"text\"\n                                                  value={option}\n                                                  onChange={(e) => updateQuestionOption(index, e.target.value)}\n                                                  placeholder={`Option ${index + 1}`}\n                                                  required={index < 2}\n                                                />\n                                                {questionForm.options.length > 2 && (\n                                                  <button\n                                                    type=\"button\"\n                                                    className=\"btn-icon danger\"\n                                                    onClick={() => removeQuestionOption(index)}\n                                                  >\n                                                    <X size={14} />\n                                                  </button>\n                                                )}\n                                              </div>\n                                            ))}\n                                            <button\n                                              type=\"button\"\n                                              className=\"btn btn-secondary small\"\n                                              onClick={addQuestionOption}\n                                            >\n                                              <Plus size={14} />\n                                              Add Option\n                                            </button>\n                                          </div>\n                                          <div className=\"form-group\">\n                                            <label>Correct Answer</label>\n                                            <select\n                                              value={questionForm.correct_answer}\n                                              onChange={(e) => setQuestionForm({ ...questionForm, correct_answer: e.target.value })}\n                                              required\n                                            >\n                                              <option value=\"\">Select correct answer</option>\n                                              {questionForm.options.filter(opt => opt.trim() !== '').map((opt, idx) => (\n                                                <option key={idx} value={opt}>{opt}</option>\n                                              ))}\n                                            </select>\n                                          </div>\n                                          <div className=\"form-group\">\n                                            <label>Explanation</label>\n                                            <textarea\n                                              value={questionForm.explanation}\n                                              onChange={(e) => setQuestionForm({ ...questionForm, explanation: e.target.value })}\n                                              required\n                                              rows=\"3\"\n                                              placeholder=\"Explain why this is the correct answer\"\n                                            />\n                                          </div>\n                                          <div className=\"form-actions\">\n                                            <button type=\"button\" className=\"btn btn-secondary\" onClick={() => {\n                                              setShowQuestionForm(false);\n                                              setSelectedQuestion(null);\n                                            }}>\n                                              Cancel\n                                            </button>\n                                            <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n                                              <Save size={16} />\n                                              {loading ? 'Saving...' : 'Save'}\n                                            </button>\n                                          </div>\n                                        </form>\n                                      </div>\n                                    </div>\n                                  )}\n\n                                  <div className=\"questions-list\">\n                                    {questions.map((question) => (\n                                      <div key={question.id} className=\"question-item\">\n                                        <div className=\"question-text\">{question.question_text}</div>\n                                        <div className=\"question-actions\">\n                                          <button className=\"btn-icon\" onClick={() => openQuestionForm(question)}>\n                                            <Edit size={14} />\n                                          </button>\n                                          <button className=\"btn-icon danger\" onClick={() => handleDeleteQuestion(question.id)}>\n                                            <Trash2 size={14} />\n                                          </button>\n                                        </div>\n                                      </div>\n                                    ))}\n                                    {questions.length === 0 && (\n                                      <p className=\"empty-state\">No questions yet. Add one to get started.</p>\n                                    )}\n                                  </div>\n                                </div>\n\n                                <div className=\"detail-section\">\n                                  <div className=\"detail-header\">\n                                    <h4>Learning Content</h4>\n                                    <button className=\"btn btn-primary small\" onClick={() => openContentForm()}>\n                                      <Plus size={14} />\n                                      Add Content\n                                    </button>\n                                  </div>\n\n                                  {showContentForm && (\n                                    <div className=\"admin-form-modal\">\n                                      <div className=\"admin-form\">\n                                        <div className=\"form-header\">\n                                          <h3>{selectedContent ? 'Edit Learning Content' : 'Create Learning Content'}</h3>\n                                          <button className=\"close-btn\" onClick={() => {\n                                            setShowContentForm(false);\n                                            setSelectedContent(null);\n                                          }}>\n                                            <X size={20} />\n                                          </button>\n                                        </div>\n                                        <form onSubmit={handleContentSubmit}>\n                                          <div className=\"form-group\">\n                                            <label>Screen Title</label>\n                                            <input\n                                              type=\"text\"\n                                              value={contentForm.screen_title}\n                                              onChange={(e) => setContentForm({ ...contentForm, screen_title: e.target.value })}\n                                              required\n                                              placeholder=\"Content screen title\"\n                                            />\n                                          </div>\n                                          <div className=\"form-group\">\n                                            <label>Read Time (minutes)</label>\n                                            <input\n                                              type=\"number\"\n                                              value={contentForm.read_time_min}\n                                              onChange={(e) => setContentForm({ ...contentForm, read_time_min: parseInt(e.target.value) })}\n                                              required\n                                              min=\"1\"\n                                            />\n                                          </div>\n                                          <div className=\"form-group\">\n                                            <label>Content (Markdown)</label>\n                                            <textarea\n                                              value={contentForm.content_markdown}\n                                              onChange={(e) => setContentForm({ ...contentForm, content_markdown: e.target.value })}\n                                              required\n                                              rows=\"10\"\n                                              placeholder=\"Enter markdown content\"\n                                            />\n                                          </div>\n                                          <div className=\"form-group\">\n                                            <label>Order Index</label>\n                                            <input\n                                              type=\"number\"\n                                              value={contentForm.order_index}\n                                              onChange={(e) => setContentForm({ ...contentForm, order_index: parseInt(e.target.value) })}\n                                              required\n                                              min=\"0\"\n                                            />\n                                          </div>\n                                          <div className=\"form-actions\">\n                                            <button type=\"button\" className=\"btn btn-secondary\" onClick={() => {\n                                              setShowContentForm(false);\n                                              setSelectedContent(null);\n                                            }}>\n                                              Cancel\n                                            </button>\n                                            <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n                                              <Save size={16} />\n                                              {loading ? 'Saving...' : 'Save'}\n                                            </button>\n                                          </div>\n                                        </form>\n                                      </div>\n                                    </div>\n                                  )}\n\n                                  <div className=\"content-list\">\n                                    {learningContent.map((content) => (\n                                      <div key={content.id} className=\"content-item\">\n                                        <div className=\"content-info\">\n                                          <h5>{content.screen_title}</h5>\n                                          <span className=\"content-meta\">{content.read_time_min} min read  Order: {content.order_index}</span>\n                                        </div>\n                                        <div className=\"content-actions\">\n                                          <button className=\"btn-icon\" onClick={() => openContentForm(content)}>\n                                            <Edit size={14} />\n                                          </button>\n                                          <button className=\"btn-icon danger\" onClick={() => handleDeleteContent(content.id)}>\n                                            <Trash2 size={14} />\n                                          </button>\n                                        </div>\n                                      </div>\n                                    ))}\n                                    {learningContent.length === 0 && (\n                                      <p className=\"empty-state\">No learning content yet. Add one to get started.</p>\n                                    )}\n                                  </div>\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        ))}\n                        {sections.length === 0 && (\n                          <p className=\"empty-state\">No sections yet. Add one to get started.</p>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ))}\n              {modules.length === 0 && (\n                <p className=\"empty-state\">No modules yet. Create one to get started.</p>\n              )}\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'users' && (\n          <div className=\"admin-users\">\n            <div className=\"admin-section-header\">\n              <h2>User Management</h2>\n            </div>\n            <div className=\"users-table\">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Email</th>\n                    <th>Display Name</th>\n                    <th>Level</th>\n                    <th>XP</th>\n                    <th>Admin</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {users.map((u) => (\n                    <tr key={u.id}>\n                      <td>{u.email}</td>\n                      <td>{u.display_name}</td>\n                      <td>{u.level || 1}</td>\n                      <td>{u.total_xp || 0}</td>\n                      <td>{u.is_admin ? 'Yes' : 'No'}</td>\n                      <td>\n                        <button\n                          className={`btn ${u.is_admin ? 'btn-secondary' : 'btn-primary'} small`}\n                          onClick={() => handleToggleAdmin(u.id, u.is_admin)}\n                          disabled={u.id === user.id}\n                        >\n                          {u.is_admin ? 'Remove Admin' : 'Make Admin'}\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              {users.length === 0 && (\n                <p className=\"empty-state\">No users found.</p>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Admin;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}