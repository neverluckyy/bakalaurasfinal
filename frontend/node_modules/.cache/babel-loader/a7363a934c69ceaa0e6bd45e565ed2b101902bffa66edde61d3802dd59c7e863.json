{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{Home,BookOpen,Trophy,User,LogOut,ChevronLeft,ChevronRight,Shield}from'lucide-react';import'./Sidebar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Sidebar(_ref){let{isCollapsed,onToggle}=_ref;const{logout,user}=useAuth();const location=useLocation();const[isMobileOpen,setIsMobileOpen]=useState(false);const[isMobile,setIsMobile]=useState(false);// Detect mobile device\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Close mobile menu when route changes\nuseEffect(()=>{if(isMobile){setIsMobileOpen(false);}},[location.pathname,isMobile]);// Close mobile menu when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(isMobile&&isMobileOpen&&!event.target.closest('.sidebar')&&!event.target.closest('.mobile-menu-toggle')){setIsMobileOpen(false);}};document.addEventListener('click',handleClickOutside);return()=>document.removeEventListener('click',handleClickOutside);},[isMobile,isMobileOpen]);const navItems=[{path:'/',icon:Home,label:'Home',category:'LEARNING'},{path:'/modules',icon:BookOpen,label:'Learn',category:'LEARNING'},{path:'/leaderboard',icon:Trophy,label:'Leaderboards',category:'LEARNING'},{path:'/profile',icon:User,label:'Profile',category:'ACCOUNT'}];// Add admin panel link if user is admin\nif(user!==null&&user!==void 0&&user.is_admin){navItems.push({path:'/admin',icon:Shield,label:'Admin Panel',category:'ACCOUNT'});}const groupedItems=navItems.reduce((acc,item)=>{if(!acc[item.category]){acc[item.category]=[];}acc[item.category].push(item);return acc;},{});const handleLogout=()=>{logout();};const toggleMobileMenu=()=>{setIsMobileOpen(!isMobileOpen);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"mobile-menu-toggle \".concat(isMobileOpen?'active':''),onClick:toggleMobileMenu,\"aria-label\":\"Toggle mobile menu\",children:/*#__PURE__*/_jsx(\"div\",{className:\"hamburger\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar \".concat(isCollapsed?'collapsed':'',\" \").concat(isMobileOpen?'mobile-open':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-content\",children:[!isMobile&&/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-toggle\",onClick:onToggle,children:isCollapsed?/*#__PURE__*/_jsx(ChevronRight,{className:\"toggle-icon\"}):/*#__PURE__*/_jsx(ChevronLeft,{className:\"toggle-icon\"})}),Object.entries(groupedItems).map(_ref2=>{let[category,items]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"nav-section\",children:[(!isCollapsed||isMobile)&&/*#__PURE__*/_jsx(\"h3\",{className:\"nav-category\",children:category}),/*#__PURE__*/_jsx(\"nav\",{className:\"nav-list\",children:items.map(item=>{const Icon=item.icon;const isActive=location.pathname===item.path;return/*#__PURE__*/_jsxs(Link,{to:item.path,className:\"nav-item \".concat(isActive?'active':''),title:isCollapsed&&!isMobile?item.label:'',onClick:()=>isMobile&&setIsMobileOpen(false),children:[/*#__PURE__*/_jsx(Icon,{className:\"nav-icon\"}),(!isCollapsed||isMobile)&&/*#__PURE__*/_jsx(\"span\",{className:\"nav-label\",children:item.label})]},item.path);})})]},category);}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-section\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"nav-item logout-btn\",title:isCollapsed&&!isMobile?'Logout':'',children:[/*#__PURE__*/_jsx(LogOut,{className:\"nav-icon\"}),(!isCollapsed||isMobile)&&/*#__PURE__*/_jsx(\"span\",{className:\"nav-label\",children:\"Logout\"})]})})]})})]});}export default Sidebar;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useAuth","Home","BookOpen","Trophy","User","LogOut","ChevronLeft","ChevronRight","Shield","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Sidebar","_ref","isCollapsed","onToggle","logout","user","location","isMobileOpen","setIsMobileOpen","isMobile","setIsMobile","checkMobile","window","innerWidth","addEventListener","removeEventListener","pathname","handleClickOutside","event","target","closest","document","navItems","path","icon","label","category","is_admin","push","groupedItems","reduce","acc","item","handleLogout","toggleMobileMenu","children","className","concat","onClick","Object","entries","map","_ref2","items","Icon","isActive","to","title"],"sources":["C:/Users/yoga/Downloads/bakalauras-main/frontend/src/components/Sidebar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { \n  Home, \n  BookOpen, \n  Trophy, \n  User,\n  LogOut,\n  ChevronLeft,\n  ChevronRight,\n  Shield\n} from 'lucide-react';\nimport './Sidebar.css';\n\nfunction Sidebar({ isCollapsed, onToggle }) {\n  const { logout, user } = useAuth();\n  const location = useLocation();\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Detect mobile device\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    \n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Close mobile menu when route changes\n  useEffect(() => {\n    if (isMobile) {\n      setIsMobileOpen(false);\n    }\n  }, [location.pathname, isMobile]);\n\n  // Close mobile menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (isMobile && isMobileOpen && !event.target.closest('.sidebar') && !event.target.closest('.mobile-menu-toggle')) {\n        setIsMobileOpen(false);\n      }\n    };\n\n    document.addEventListener('click', handleClickOutside);\n    return () => document.removeEventListener('click', handleClickOutside);\n  }, [isMobile, isMobileOpen]);\n\n  const navItems = [\n    { path: '/', icon: Home, label: 'Home', category: 'LEARNING' },\n    { path: '/modules', icon: BookOpen, label: 'Learn', category: 'LEARNING' },\n    { path: '/leaderboard', icon: Trophy, label: 'Leaderboards', category: 'LEARNING' },\n    { path: '/profile', icon: User, label: 'Profile', category: 'ACCOUNT' },\n  ];\n\n  // Add admin panel link if user is admin\n  if (user?.is_admin) {\n    navItems.push({ path: '/admin', icon: Shield, label: 'Admin Panel', category: 'ACCOUNT' });\n  }\n\n  const groupedItems = navItems.reduce((acc, item) => {\n    if (!acc[item.category]) {\n      acc[item.category] = [];\n    }\n    acc[item.category].push(item);\n    return acc;\n  }, {});\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  const toggleMobileMenu = () => {\n    setIsMobileOpen(!isMobileOpen);\n  };\n\n  return (\n    <>\n      {/* Mobile hamburger menu */}\n      <button \n        className={`mobile-menu-toggle ${isMobileOpen ? 'active' : ''}`}\n        onClick={toggleMobileMenu}\n        aria-label=\"Toggle mobile menu\"\n      >\n        <div className=\"hamburger\"></div>\n      </button>\n\n      <div className={`sidebar ${isCollapsed ? 'collapsed' : ''} ${isMobileOpen ? 'mobile-open' : ''}`}>\n        <div className=\"sidebar-content\">\n          {!isMobile && (\n            <div className=\"sidebar-toggle\" onClick={onToggle}>\n              {isCollapsed ? <ChevronRight className=\"toggle-icon\" /> : <ChevronLeft className=\"toggle-icon\" />}\n            </div>\n          )}\n          \n          {Object.entries(groupedItems).map(([category, items]) => (\n            <div key={category} className=\"nav-section\">\n              {(!isCollapsed || isMobile) && <h3 className=\"nav-category\">{category}</h3>}\n              <nav className=\"nav-list\">\n                {items.map((item) => {\n                  const Icon = item.icon;\n                  const isActive = location.pathname === item.path;\n                  \n                  return (\n                    <Link\n                      key={item.path}\n                      to={item.path}\n                      className={`nav-item ${isActive ? 'active' : ''}`}\n                      title={isCollapsed && !isMobile ? item.label : ''}\n                      onClick={() => isMobile && setIsMobileOpen(false)}\n                    >\n                      <Icon className=\"nav-icon\" />\n                      {(!isCollapsed || isMobile) && <span className=\"nav-label\">{item.label}</span>}\n                    </Link>\n                  );\n                })}\n              </nav>\n            </div>\n          ))}\n          \n          <div className=\"nav-section\">\n            <button \n              onClick={handleLogout} \n              className=\"nav-item logout-btn\"\n              title={isCollapsed && !isMobile ? 'Logout' : ''}\n            >\n              <LogOut className=\"nav-icon\" />\n              {(!isCollapsed || isMobile) && <span className=\"nav-label\">Logout</span>}\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Sidebar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}